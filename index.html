<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>SmartSurplus Z-825 | Home</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet"/>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Poppins', sans-serif;
      color: #fff;
      background: linear-gradient(to right, #000428, #004e92),
        url('https://images.unsplash.com/photo-1549921296-3a6b1b3cf1a3?auto=format&fit=crop&w=1950&q=80') no-repeat center fixed;
      background-size: cover;
    }
    .overlay {
      background: rgba(0,0,0,0.75);
      min-height: 100vh;
      padding: 60px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      font-size: 42px;
      color: #00ffff;
      text-shadow: 0 0 20px #00ffff66;
      margin-bottom: 20px;
      text-align: center;
    }
    .quote {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background: rgba(255,255,255,0.07);
      border-left: 5px solid #00ffff;
      border-radius: 8px;
      font-style: italic;
      text-align: center;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    nav {
      margin: 30px 0;
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
      justify-content: center;
    }
    nav a {
      background: #00ffff;
      color: black;
      padding: 10px 20px;
      font-weight: bold;
      border-radius: 6px;
      text-decoration: none;
      box-shadow: 0 0 8px #00ffff88;
      transition: background 0.3s, transform 0.3s;
    }
    nav a:hover {
      background: #00cccc;
      transform: scale(1.05);
    }

    .music-control {
      margin-top: 10px;
      text-align: center;
    }

    .music-control button, .music-control input[type="range"] {
      margin: 5px;
      padding: 8px 14px;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .music-control button {
      background: #00ffff;
      color: #000;
      box-shadow: 0 0 8px #00ffffaa;
    }

    .music-control button:hover {
      background: #00cccc;
    }

    .music-control input[type="range"] {
      width: 150px;
      vertical-align: middle;
    }

    .contact {
      margin-top: auto;
      text-align: center;
      font-size: 14px;
    }

    .contact a {
      color: #00ffff;
      text-decoration: underline;
      display: block;
      margin: 6px 0;
    }

    footer {
      margin-top: 40px;
      font-size: 12px;
      color: #aaa;
      text-align: center;
    }

    @media(max-width:600px){
      h1 { font-size: 30px; }
      nav a { padding: 8px 16px; font-size: 14px; }
      .music-control input[type="range"] { width: 100px; }
    }
  </style>
</head>
<body>
  <div class="overlay">
    <h1>Welcome to SmartSurplus Zâ€‘825</h1>
    <div class="quote" id="quoteDisplay">Loading quoteâ€¦</div>

    <nav>
      <a href="about.html">ğŸ“˜ About</a>
      <a href="chatroom.html">ğŸ’¬ Member Chat Room</a>
      <a href="dashboard.html">ğŸ“‹ Dashboard</a>
      <a href="profitcalculator.html">ğŸ“ˆ Profit Calculator</a>
      <a href="proposal.html">ğŸ“ Proposal</a>
      <a href="report.html">ğŸ“Š Cycle Report</a>
      <a href="system-settings.html">âš™ï¸ System Settings</a>
    </nav>

    <!-- ğŸµ Music Controls -->
    <div class="music-control">
      <button onclick="prevTrack()">â®ï¸ Prev</button>
      <button onclick="togglePlay()">â–¶ï¸ Play / â¸ï¸ Pause</button>
      <button onclick="nextTrack()">â­ï¸ Next</button>
      <button onclick="toggleMute()">ğŸ”‡ Mute / ğŸ”Š</button>
      <input type="range" min="0" max="1" step="0.01" value="0.5" onchange="setVolume(this.value)">
    </div>

    <!-- ğŸ¶ Audio Player -->
    <audio id="bg-music" preload="auto"></audio>

    <nav id="authNav"></nav>

    <div class="contact">
      <a href="https://wa.me/254701279476" target="_blank">WhatsApp: +254â€¯701â€¯279â€¯476</a>
      <a href="mailto:jaxxitacapital@gmail.com">Email: jaxxitacapital@gmail.com</a>
    </div>

    <footer>Â© 2025 Jaxxita Enterprises â€” SmartSurplus Zâ€‘825 â€¢ Skylanceâ€¯Z1 â€¢ SilentStreamâ€¯B625</footer>
  </div>

  <script>
    // ğŸ“œ Quotes
    const quotes = [
      "â€œDo not save what is left after spending, but spend what is left after saving.â€ â€“ Warren Buffett",
      "â€œFinancial freedom is available to those who learn about it and work for it.â€ â€“ Robert Kiyosaki",
      "â€œItâ€™s not your salary that makes you rich, itâ€™s your spending habits.â€ â€“ Charles A. Jaffe",
      "â€œWealth is the ability to fully experience life.â€ â€“ Henry David Thoreau"
    ];
    let i = 0;
    const qEl = document.getElementById('quoteDisplay');
    function showQuote(){
      qEl.style.opacity = 0;
      setTimeout(()=>{
        qEl.textContent = quotes[i];
        qEl.style.opacity = 1;
        i = (i+1)%quotes.length;
      }, 500);
    }
    showQuote();
    setInterval(showQuote, 7000);

    // ğŸ” Auth Navigation
    const user = localStorage.getItem('user');
    const role = localStorage.getItem('role');
    const authNav = document.getElementById('authNav');
    if (user && role) {
      authNav.innerHTML = `
        <a href="${getDashboard(role)}">ğŸš€ Go to Dashboard</a>
        <a href="#" onclick="logout()" style="background:#cc0000; color:#fff;">ğŸšª Logout (${user})</a>
      `;
    } else {
      authNav.innerHTML = `
        <a href="login.html">ğŸ” Login</a>
        <a href="signup.html">ğŸ§¾ Sign Up</a>
      `;
    }

    function getDashboard(r){
      const map = {
        procurement: 'procurement-dashboard.html',
        audit: 'audit-dashboard.html',
        executive: 'admin-dashboard.html',
        systems: 'systems-dashboard.html',
        member: 'chatroom.html'
      };
      return map[r] || 'dashboard.html';
    }

    function logout(){
      localStorage.clear();
      location.reload();
    }

    // ğŸµ Music Player
    const player = document.getElementById("bg-music");
    const playlist = [
      "media/track1.mp3",
      "media/track2.mp3",
      "media/track3.mp3"
    ];
    let currentTrack = 0;

    function loadTrack(index) {
      currentTrack = (index + playlist.length) % playlist.length;
      player.src = playlist[currentTrack];
      player.play().catch(() => console.warn("Autoplay blocked. Click to start."));
    }

    function togglePlay() {
      if (player.paused) player.play();
      else player.pause();
    }

    function toggleMute() {
      player.muted = !player.muted;
    }

    function setVolume(val) {
      player.volume = parseFloat(val);
    }

    function nextTrack() {
      currentTrack = (currentTrack + 1) % playlist.length;
      loadTrack(currentTrack);
    }

    function prevTrack() {
      currentTrack = (currentTrack - 1 + playlist.length) % playlist.length;
      loadTrack(currentTrack);
    }

    player.addEventListener("ended", () => {
      nextTrack();
    });

    // Only play on first user interaction
    let interacted = false;
    document.body.addEventListener("click", () => {
      if (!interacted) {
        loadTrack(currentTrack);
        interacted = true;
      }
    }, { once: true });
  </script>
</body>
</html>
