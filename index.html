<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>SmartSurplus Z-825 | Home</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --bg-dark: linear-gradient(to right, #000428, #004e92);
      --bg-light: #f3faff;
      --text-dark: #ffffff;
      --text-light: #111;
      --accent: #00ffff;
      --card-bg: rgba(255,255,255,0.07);
      --sidebar-width: 240px;
      --sidebar-collapsed-width: 65px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg-dark);
      color: var(--text-dark);
      transition: all 0.5s ease;
      display: flex;
      min-height: 100vh;
      overflow-x: hidden;
    }
    body.light-mode {
      background: var(--bg-light);
      color: var(--text-light);
    }

    /* Sidebar */
    #sidebar {
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: var(--sidebar-width);
      background: rgba(0,0,0,0.75);
      backdrop-filter: blur(8px);
      box-shadow: 2px 0 8px rgba(0,255,255,0.2);
      display: flex;
      flex-direction: column;
      padding: 20px 0;
      transition: width 0.3s ease;
      z-index: 1000;
    }
    body.light-mode #sidebar {
      background: rgba(255,255,255,0.9);
      box-shadow: 2px 0 8px rgba(0,255,255,0.15);
    }
    #sidebar.collapsed {
      width: var(--sidebar-collapsed-width);
    }

    #sidebar .logo {
      color: var(--accent);
      font-size: 22px;
      font-weight: 900;
      text-align: center;
      margin-bottom: 30px;
      white-space: nowrap;
      overflow: hidden;
      padding: 0 10px;
    }
    body.light-mode #sidebar .logo {
      color: #00aabb;
    }

    #sidebar nav {
      display: flex;
      flex-direction: column;
      gap: 10px;
      flex-grow: 1;
      padding: 0 10px;
    }

    #sidebar nav a {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 12px 18px;
      font-weight: 600;
      color: var(--text-dark);
      background: var(--card-bg);
      border-radius: 8px;
      text-decoration: none;
      box-shadow: 0 0 8px #00ffff88;
      transition: background 0.3s, color 0.3s;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    body.light-mode #sidebar nav a {
      background: rgba(0,0,0,0.05);
      color: var(--text-light);
      box-shadow: none;
    }
    #sidebar nav a:hover {
      background: #00cccc;
      color: #000;
      box-shadow: 0 0 10px #00ffffcc;
    }

    #sidebar.collapsed nav a {
      justify-content: center;
      padding: 12px 10px;
    }
    #sidebar.collapsed nav a span.label {
      display: none;
    }

    /* Sidebar toggle button */
    #sidebarToggle {
      position: absolute;
      top: 10px;
      right: -20px;
      background: var(--accent);
      border: none;
      color: #000;
      font-weight: bold;
      font-size: 20px;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      cursor: pointer;
      box-shadow: 0 0 8px #00ffffcc;
      transition: background 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #sidebarToggle:hover {
      background: #00cccc;
    }
    body.light-mode #sidebarToggle {
      background: #00aabb;
      color: #fff;
    }

    /* Main content area */
    .overlay {
      margin-left: var(--sidebar-width);
      flex-grow: 1;
      min-height: 100vh;
      padding: 60px 30px 30px 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: rgba(0,0,0,0.75);
      transition: margin-left 0.3s ease, background 0.5s ease;
    }
    body.light-mode .overlay {
      background: rgba(255,255,255,0.8);
    }
    #sidebar.collapsed ~ .overlay {
      margin-left: var(--sidebar-collapsed-width);
      padding-left: 15px;
      padding-right: 15px;
    }

    /* Titles and quote */
    h1 {
      font-size: 42px;
      color: var(--accent);
      text-shadow: 0 0 20px #00ffff66;
      margin-bottom: 20px;
      text-align: center;
      user-select: none;
    }
    .quote {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background: var(--card-bg);
      border-left: 5px solid var(--accent);
      border-radius: 8px;
      font-style: italic;
      text-align: center;
      opacity: 0;
      transition: opacity 0.5s ease;
      user-select: none;
    }
    body.light-mode .quote {
      background: rgba(0,0,0,0.05);
    }

    /* Auth nav inside main content */
    #authNav {
      margin: 20px 0;
      display: flex;
      gap: 14px;
      flex-wrap: wrap;
      justify-content: center;
    }
    #authNav a {
      background: var(--accent);
      color: #000;
      padding: 10px 20px;
      font-weight: bold;
      border-radius: 6px;
      text-decoration: none;
      box-shadow: 0 0 8px #00ffff88;
      transition: background 0.3s, transform 0.3s;
      user-select: none;
    }
    #authNav a:hover {
      background: #00cccc;
      transform: scale(1.05);
    }

    /* Music control */
    .music-control {
      margin-top: 10px;
      text-align: center;
      user-select: none;
    }
    .music-control button, .music-control input[type="range"] {
      margin: 5px;
      padding: 8px 14px;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      user-select: none;
    }
    .music-control button {
      background: var(--accent);
      color: #000;
      box-shadow: 0 0 8px #00ffffaa;
      transition: background 0.3s;
    }
    .music-control button:hover {
      background: #00cccc;
    }
    .music-control input[type="range"] {
      width: 150px;
    }

    /* Contact links */
    .contact {
      margin-top: auto;
      text-align: center;
      font-size: 14px;
      user-select: none;
    }
    .contact a {
      color: var(--accent);
      text-decoration: underline;
      display: block;
      margin: 6px 0;
    }

    /* Footer */
    footer {
      margin-top: 40px;
      font-size: 12px;
      color: #aaa;
      text-align: center;
      user-select: none;
    }

    /* FAB */
    .fab {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--accent);
      color: #000;
      font-size: 24px;
      width: 55px;
      height: 55px;
      border-radius: 50%;
      border: none;
      box-shadow: 0 0 10px #00ffffaa;
      cursor: pointer;
      z-index: 999;
      user-select: none;
      transition: background 0.3s;
    }
    .fab:hover {
      background: #00cccc;
    }

    /* Toggle Mode Button */
    .toggle-mode {
      position: fixed;
      top: 10px;
      right: 10px;
      background: var(--accent);
      color: #000;
      padding: 6px 12px;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      z-index: 1001;
      user-select: none;
      transition: background 0.3s;
    }
    .toggle-mode:hover {
      background: #00cccc;
    }
    body.light-mode .toggle-mode {
      background: #00aabb;
      color: #fff;
    }

    /* Responsive */
    @media(max-width: 768px) {
      #sidebar {
        position: fixed;
        width: var(--sidebar-collapsed-width);
      }
      #sidebar.collapsed {
        width: var(--sidebar-collapsed-width);
      }
      .overlay {
        margin-left: var(--sidebar-collapsed-width);
        padding: 60px 15px 30px 15px;
      }
      #sidebarToggle {
        top: 10px;
        right: -18px;
      }
      #sidebar nav a span.label {
        display: none;
      }
    }

  </style>
</head>
<body>
  <!-- Sidebar -->
  <aside id="sidebar">
    <div class="logo" title="SmartSurplus Z-825">SmartSurplus Z-825</div>
    <nav>
      <a href="about.html" title="About"><span class="icon">üìò</span><span class="label">About</span></a>
      <a href="chatroom.html" title="Chat Room"><span class="icon">üí¨</span><span class="label">Chat Room</span></a>
      <a href="dashboard.html" title="Dashboard"><span class="icon">üìã</span><span class="label">Dashboard</span></a>
      <a href="profitcalculator.html" title="Profit Calculator"><span class="icon">üìà</span><span class="label">Profit Calculator</span></a>
      <a href="proposal.html" title="Proposal"><span class="icon">üìù</span><span class="label">Proposal</span></a>
      <a href="report.html" title="Reports"><span class="icon">üìä</span><span class="label">Reports</span></a>
      <a href="system-settings.html" title="System Settings"><span class="icon">‚öôÔ∏è</span><span class="label">System</span></a>
      <a href="gallery.html" title="Gallery"><span class="icon">üñºÔ∏è</span><span class="label">Gallery</span></a>
      <a href="bible/index.html" title="Bible"><span class="icon">üìñ</span><span class="label">Bible</span></a>
      <a href="contact.html" title="Contact"><span class="icon">üìû</span><span class="label">Contact</span></a>
    </nav>
    <button id="sidebarToggle" aria-label="Toggle Sidebar">‚è©</button>
  </aside>

  <!-- Main Content -->
  <div class="overlay">
    <button class="toggle-mode" onclick="toggleTheme()">üåó Mode</button>

    <h1>Welcome to SmartSurplus Z‚Äë825</h1>
    <div class="quote" id="quoteDisplay">Loading quote‚Ä¶</div>

    <div id="authNav"></div>

    <div class="music-control" aria-label="Music Controls">
      <button onclick="prevTrack()" title="Previous Track">‚èÆÔ∏è</button>
      <button onclick="togglePlay()" title="Play/Pause">‚ñ∂Ô∏è/‚è∏Ô∏è</button>
      <button onclick="nextTrack()" title="Next Track">‚è≠Ô∏è</button>
      <button onclick="toggleMute()" title="Mute/Unmute">üîá/üîä</button>
      <input type="range" min="0" max="1" step="0.01" value="0.5" onchange="setVolume(this.value)" aria-label="Volume Control">
    </div>

    <audio id="bg-music" preload="auto"></audio>

    <div class="contact" role="contentinfo">
      <a href="https://wa.me/254701279476" target="_blank" rel="noopener noreferrer">WhatsApp: +254‚ÄØ701‚ÄØ279‚ÄØ476</a>
      <a href="mailto:jaxxitacapital@gmail.com">Email: jaxxitacapital@gmail.com</a>
    </div>

    <footer>
      ¬© 2025 <strong>Jaxxita Enterprises</strong> ‚Äî SmartSurplus Z‚Äë825 ‚Ä¢ Skylance‚ÄØZ1 ‚Ä¢ SilentStream‚ÄØB625
    </footer>
  </div>

  <!-- FAB (Bible Link) -->
  <button class="fab" onclick="location.href='bible/index.html'" title="Open Jaxxita Bible">üìñ</button>

  <script>
    // Quotes
    const quotes = [
      "‚ÄúDo not save what is left after spending, but spend what is left after saving.‚Äù ‚Äì Warren Buffett",
      "‚ÄúFinancial freedom is available to those who learn about it and work for it.‚Äù ‚Äì Robert Kiyosaki",
      "‚ÄúIt‚Äôs not your salary that makes you rich, it‚Äôs your spending habits.‚Äù ‚Äì Charles A. Jaffe",
      "‚ÄúWealth is the ability to fully experience life.‚Äù ‚Äì Henry David Thoreau"
    ];
    let i = 0;
    const qEl = document.getElementById('quoteDisplay');
    function showQuote(){
      qEl.style.opacity = 0;
      setTimeout(() => {
        qEl.textContent = quotes[i];
        qEl.style.opacity = 1;
        i = (i+1) % quotes.length;
      }, 500);
    }
    showQuote();
    setInterval(showQuote, 7000);

    // Auth Navigation
    const user = localStorage.getItem('user');
    const role = localStorage.getItem('role');
    const authNav = document.getElementById('authNav');
    if (user && role) {
      authNav.innerHTML = `
        <a href="${getDashboard(role)}">üöÄ Dashboard</a>
        <a href="#" onclick="logout()" style="background:#cc0000; color:#fff;">üö™ Logout (${user})</a>
      `;
    } else {
      authNav.innerHTML = `
        <a href="login.html">üîê Login</a>
        <a href="signup.html">üßæ Sign Up</a>
      `;
    }
    function getDashboard(r){
      const map = {
        procurement: 'procurement-dashboard.html',
        audit: 'audit-dashboard.html',
        executive: 'admin-dashboard.html',
        systems: 'systems-dashboard.html',
        member: 'chatroom.html'
      };
      return map[r] || 'dashboard.html';
    }
    function logout(){
      localStorage.clear();
      location.reload();
    }

    // Music Player
    const player = document.getElementById("bg-music");
    const playlist = [
      "media/track1.mp3",
      "media/track2.mp3",
      "media/track3.mp3"
    ];
    let currentTrack = 0;
    function loadTrack(index) {
      currentTrack = (index + playlist.length) % playlist.length;
      player.src = playlist[currentTrack];
      player.play().catch(() => console.warn("Autoplay blocked."));
    }
    function togglePlay() {
      if (!player.src) loadTrack(currentTrack);
      else if (player.paused) player.play();
      else player.pause();
    }
    function toggleMute() {
      player.muted = !player.muted;
    }
    function setVolume(val) {
      player.volume = parseFloat(val);
    }
    function nextTrack() {
      currentTrack = (currentTrack + 1) % playlist.length;
      loadTrack(currentTrack);
    }
    function prevTrack() {
      currentTrack = (currentTrack - 1 + playlist.length) % playlist.length;
      loadTrack(currentTrack);
    }
    player.addEventListener("ended", nextTrack);

    let interacted = false;
    document.body.addEventListener("click", () => {
      if (!interacted) {
        loadTrack(currentTrack);
        interacted = true;
      }
    }, { once: true });

    // Toggle theme light/dark
    function toggleTheme() {
      document.body.classList.toggle("light-mode");
    }

    // Sidebar collapse toggle
    const sidebar = document.getElementById('sidebar');
    const toggleBtn = document.getElementById('sidebarToggle');
    toggleBtn.addEventListener('click', () => {
      sidebar.classList.toggle('collapsed');
      if (sidebar.classList.contains('collapsed')) {
        toggleBtn.textContent = '‚è™';
        toggleBtn.title = 'Expand Sidebar';
      } else {
        toggleBtn.textContent = '‚è©';
        toggleBtn.title = 'Collapse Sidebar';
      }
    });

    // Initialize toggle button title
    toggleBtn.title = 'Collapse Sidebar';

  </script>
</body>
</html>
